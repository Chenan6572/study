define(function(require){
	var $ = require("jquery");
	var justep = require("$UI/system/lib/justep");
	require("$UI/zupu/js/date/datePicker");
	require("css!$UI/zupu/css/LCalendar").load();
	var calendar = new datePicker();
	calendar.init({
		'trigger' : '#start_date', /* 按钮选择器，用于触发弹出插件 */
		'type' : 'date',/* 模式：date日期；datetime日期时间；time时间；ym年月； */
		'minDate' : '1900-1-1',/* 最小日期 */
		'maxDate' : '2100-12-31',/* 最大日期 */
		'onSubmit' : function() {/* 确认时触发事件 */
			var theSelectData = calendar.value;
		},
		'onClose' : function() {/* 取消时触发事件 */
		}
	});
	var calendar = new datePicker();
	calendar.init({
		'trigger' : '#end_date', /* 按钮选择器，用于触发弹出插件 */
		'type' : 'date',/* 模式：date日期；datetime日期时间；time时间；ym年月； */
		'minDate' : '1900-1-1',/* 最小日期 */
		'maxDate' : '2100-12-31',/* 最大日期 */
		'onSubmit' : function() {/* 确认时触发事件 */
			var theSelectData = calendar.value;
		},
		'onClose' : function() {/* 取消时触发事件 */
		}
	});
	var Model = function(){
		this.callParent();
	};

	//访问后台数据
	var loginName = localStorage.getItem("loginName"); 

		$.ajax({
			headers : {
				Authorization : "Bearer " + localStorage.getItem('Token'),
			},
			url : 'http://10.10.1.232:8088/YProject/api/query?login_name=' + loginName,
			processData : false,
			cache : false,
			async : true,
			global : false,
			contentType : "application/json; charset=utf-8",
			datatype : "json",
			type : 'post',
			success : function(res) {
				//打印数据
				console.log(res.data);
				
				//測試
				$("#name").val(3333);
				
				/*$("#name").html(res.data.name);*/
				$("#doornum").html(res.data.doornum);
				$("#birthday").html(res.data.birthday);
				$("#address").html(res.data.address);
				$("#phone").html(res.data.phone);
				$("#register_category").html(res.data.register_category);
				localStorage.setItem("id", res.data.id);
			},
			error : function(res) {
				justep.Util.hint(res.message, {
					type : 'danger',
				});
				console.log("测试失败");
			}
		});
	

	return Model;
});