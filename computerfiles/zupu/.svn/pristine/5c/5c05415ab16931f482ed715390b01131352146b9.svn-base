define(function(require){
	var $ = require("jquery");
	var justep = require("$UI/system/lib/justep");

	var Model = function(){
		this.callParent();
	};
	// 初始化界面
	console.log("进入手机号修改密码界面");
	var loginName = localStorage.getItem("loginName");
	Model.prototype.onload = function(event) {
		$.ajax({
			headers : {
				Authorization : "Bearer " + localStorage.getItem('Token'),
			},
			url : 'http://10.10.1.232:8088/YProject/api/query?login_name='+ loginName,
			processData : false,
			cache : false,
			async : false,
			global : false,
			contentType : "application/json; charset=utf-8",
			datatype : "json",
			type : 'GET',
			success : function(res) {
				// 后台数据显示到前台页面
				// console.log(res.data);
				// document.getElementById("names").value=(res.data.name);
				var phone = res.data.login_name.replace(/(\d{3})(\d{4})(\d{3})/, "$1****$3");	
				$("#tel").html(phone); // 手机号
				id = res.data.id;
			},
			error : function(res) {
				justep.Util.hint(res.message, {
					type : 'danger',
				});
				console.log("测试失败");
			}
		});
	};
	return Model;
});